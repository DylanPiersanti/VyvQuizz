<!DOCTYPE html>
<!--  This site was created in Webflow. http://www.webflow.com  -->
<!--  Last Published: Fri Oct 16 2020 09:28:27 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="5f84117381b20872a7cb8466" data-wf-site="5f2d7ef4d86db21c57bb4bb8">
<head>
  <meta charset="utf-8">
  <title>Quiz</title>
  <meta content="Quiz" property="og:title">
  <meta content="Quiz" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="css/normalize.css" rel="stylesheet" type="text/css">
  <link href="css/webflow.css" rel="stylesheet" type="text/css">
  <link href="css/vyvstyleguide.webflow.css" rel="stylesheet" type="text/css">
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="images/favicon.png" rel="shortcut icon" type="image/x-icon">
  <link href="images/webclip.png" rel="apple-touch-icon">
  <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.7.0/dist/alpine.min.js" defer=""></script>
</head>
<body>
  <div class="section-12">
    <div data-animation="outin" data-disable-swipe="1" data-duration="500" class="slider-3 w-slider">
      <div class="w-slider-mask">
        <div class="w-slide">
          <div class="div-block-92">
            <div id="welcome" class="welcome">
              <h1 class="heading-10">Welcome</h1><a href="#" class="w-button">Suivant</a></div>
          </div>
        </div>
        <div class="w-slide">
          <div class="div-block-92">
            <div id="picture_choice" class="form-pic-choice w-form">
              <form data-name="Email Form 3" name="email-form-3" class="form-6">
                <h1>Quesion suivante</h1>
                <p class="paragraph-9">Une description complète et pertinente.</p><img src="images/car.svg" loading="lazy" alt="" class="image-18"><img src="images/appointment.svg" loading="lazy" alt="" class="image-18 img-active"><img src="images/pet.svg" loading="lazy" alt="" class="image-18"></form>
              <div class="w-form-done">
                <div>Thank you! Your submission has been received!</div>
              </div>
              <div class="w-form-fail">
                <div>Oops! Something went wrong while submitting the form.</div>
              </div><a href="#" class="w-button">Suivant</a></div>
          </div>
        </div>
        <div class="w-slide">
          <div class="div-block-92">
            <div id="short-text" class="form-input w-form">
              <form id="email-form" name="email-form" data-name="Email Form" class="form-3">
                <h1>Quesion suivante</h1>
                <p class="paragraph-9">Une description complète et pertinente.</p><input type="email" class="w-input" maxlength="256" name="email-2" data-name="Email 2" placeholder="" id="email-2" required=""></form>
              <div class="w-form-done">
                <div>Thank you! Your submission has been received!</div>
              </div>
              <div class="w-form-fail">
                <div>Oops! Something went wrong while submitting the form.</div>
              </div><a href="#" class="w-button">Suivant</a></div>
          </div>
        </div>
        <div class="w-slide">
          <div class="div-block-92">
            <div id="dropdown" class="form-choice w-form">
              <form id="email-form" name="email-form" data-name="Email Form" class="form-4">
                <h1>Quesion suivante</h1>
                <p class="paragraph-9">Une description complète et pertinente.</p>
                <div class="div-block-94"><a href="#" class="choice-btn w-button">18 - 60 ans</a><a href="#" class="choice-btn w-button">+ 60 ans</a><a href="#" class="choice-btn w-button">- de 11 ans</a></div>
              </form>
              <div class="w-form-done">
                <div>Thank you! Your submission has been received!</div>
              </div>
              <div class="w-form-fail">
                <div>Oops! Something went wrong while submitting the form.</div>
              </div><a href="#" class="w-button">Suivant</a></div>
          </div>
        </div>
        <div class="w-slide">
          <div class="div-block-92">
            <div id="multiple_choice" class="form-mul-choice w-form">
              <form id="email-form-2" name="email-form-2" data-name="Email Form 2" class="form-5">
                <h1>Quesion suivante</h1>
                <p class="paragraph-9">Une description complète et pertinente.</p><label class="w-checkbox checkbox-field"><div class="w-checkbox-input w-checkbox-input--inputType-custom"></div><input type="checkbox" id="checkbox-3" name="checkbox-3" data-name="Checkbox 3" style="opacity:0;position:absolute;z-index:-1"><span class="w-form-label">Certaines activités du quotidien, vous sont difficiles à faire, seul(e)</span></label><label class="w-checkbox checkbox-field-2"><div class="w-checkbox-input w-checkbox-input--inputType-custom"></div><input type="checkbox" id="checkbox-2" name="checkbox-2" data-name="Checkbox 2" style="opacity:0;position:absolute;z-index:-1"><span class="checkbox-label w-form-label">Vous allez ou vous venez d’être hospitalisé(e) et vous pensez qu’une aide serait la bienvenue</span></label></form>
              <div class="w-form-done">
                <div>Thank you! Your submission has been received!</div>
              </div>
              <div class="w-form-fail">
                <div>Oops! Something went wrong while submitting the form.</div>
              </div><a href="#" class="w-button">Suivant</a></div>
          </div>
        </div>
      </div>
      <div class="left-arrow-3 w-slider-arrow-left">
        <div class="w-icon-slider-left"></div>
      </div>
      <div class="right-arrow-3 w-slider-arrow-right">
        <div class="w-icon-slider-right"></div>
      </div>
      <div class="slide-nav-3 w-slider-nav w-num"></div>
    </div>
  </div>
  <div x-data="dataHandler()" x-init="init()" class="section-11">
    <div id="welcome" x-show="datas[count].template === &#x27;welcome&#x27;" class="welcome">
      <h1 x-text="datas[count].question" class="heading-10">Welcome</h1><a x-on:click="next()" href="#" class="w-button">Suivant</a>
      <div class="w-embed"></div>
    </div>
    <div id="short-text" x-show="datas[count].template === &#x27;short_text&#x27;" class="form-input w-form">
      <form id="email-form" name="email-form" data-name="Email Form" class="form-3">
        <h1 x-text="datas[count].question">Question suivante</h1>
        <p class="paragraph-9">Une description complète et pertinente.</p><input type="email" class="w-input" maxlength="256" name="email-2" data-name="Email 2" placeholder="" x-on:keyup="register_input_choice()" id="email-2" x-bind:data-response="[datas[count].app_id, datas[count].question, datas[count].points]" required=""></form>
      <div class="w-form-done">
        <div>Thank you! Your submission has been received!</div>
      </div>
      <div class="w-form-fail">
        <div>Oops! Something went wrong while submitting the form.</div>
      </div><a x-on:click="next()" href="#" class="w-button">Suivant</a></div>
    <div id="multiple_choice" x-show="datas[count].template === &#x27;multiple_choice&#x27;" class="form-mul-choice w-form">
      <form id="email-form-2" name="email-form-2" data-name="Email Form 2" class="form-5">
        <h1 x-text="datas[count].question" class="heading-11">Quesion suivante</h1>
        <p class="paragraph-9">Une description complète et pertinente.</p>
        <div class="w-embed"><template x-if="datas[count].template === 'multiple_choice'" x-for="item in datas[count].responses">
  <label class="w-checkbox checkbox-field">
  <div class="w-checkbox-input w-checkbox-input--inputType-custom"></div>
  <input type="checkbox" id="checkbox-3" name="checkbox-3" data-name="Checkbox 3" style="opacity: 0; position: absolute; z-index: -1" x-bind:data-response="[
   	datas[count].app_id,
    datas[count].question,
    item,
    datas[count].points
   ]" @click="register_response_multiple()">
  <span class="w-form-label" x-text="item"></span>
 </label>
</template></div>
      </form>
      <div class="w-form-done">
        <div>Thank you! Your submission has been received!</div>
      </div>
      <div class="w-form-fail">
        <div>Oops! Something went wrong while submitting the form.</div>
      </div><a x-on:click="next()" href="#" class="w-button">Suivant</a></div>
    <div id="dropdown" x-show="datas[count].template === &#x27;dropdown&#x27;" class="form-choice w-form">
      <form id="email-form" name="email-form" data-name="Email Form" class="form-4">
        <h1 x-text="datas[count].question" class="heading-12">Quesion suivante</h1>
        <p class="paragraph-9">Une description complète et pertinente.</p>
        <div class="w-embed">
          <div class="div-block-94">
            <template x-if="datas[count].template === 'dropdown'" x-for="item in datas[count].responses">
    <a href="#" class="choice-btn w-button" x-text="item" x-bind:data-response="[
      	datas[count].app_id,
        datas[count].question,
        item,
        datas[count].points
      ]" @click="register_response_one_choice()">
     	18 - 60 ans
     </a>
  </template>
          </div>
        </div>
      </form>
      <div class="w-form-done">
        <div>Thank you! Your submission has been received!</div>
      </div>
      <div class="w-form-fail">
        <div>Oops! Something went wrong while submitting the form.</div>
      </div><a x-on:click="next()" href="#" class="w-button">Suivant</a></div>
    <div id="picture_choice" x-show="datas[count].template === &#x27;picture_choice&#x27;" class="form-pic-choice w-form">
      <form data-name="Email Form 3" name="email-form-3" class="form-6">
        <h1 x-text="datas[count].question">Quesion suivante</h1>
        <p class="paragraph-9">Une description complète et pertinente.</p>
        <div class="w-embed"><template x-if="datas[count].template === 'picture_choice'" x-for="(item, index) in datas[count].images" :key="index">
	<img :src="item.url" loading="lazy" x-bind:alt="datas[count].responses[index]" class="image-18" x-bind:data-response="[
    	datas[count].app_id,
      datas[count].question,
      datas[count].responses[index],
      datas[count].points
    ]" @click="register_response_one_choice()">
</template></div>
      </form>
      <div class="w-form-done">
        <div>Thank you! Your submission has been received!</div>
      </div>
      <div class="w-form-fail">
        <div>Oops! Something went wrong while submitting the form.</div>
      </div><a x-on:click="next()" href="#" class="w-button">Suivant</a></div>
    <div class="w-embed w-script">
      <script>
	let quizz_theme = "handicap"
	let api_link =
  `https://api.airtable.com/v0/appU6J0oOZL0hYDLp/Questions?api_key=`;
	let api_key = "keybl3ihsQaNnjHU2";
	let api_param = `&view=${quizz_theme}`;
  const api_request = api_link + api_key + api_param;
	let datas = [];
  let current_response = [];
  let dataSet = false;
  function dataHandler() {
  	return {
    	count: 0,
      current_one_choice: '',
      current_input_text: [],
      current_multiple: [],
      response: [],
    	init() {
      if(!dataSet){
      	dataSet = true;
      	fetch(api_request)
        	.then((response) => response.json())
          .then((data) => {
          	console.log(data)
          	for (let i = 0; i < data.records.length; i++) {
            	datas.push({
              	id: i,
                app_id: data.records[i].id,
                question: data.records[i].fields.question,
                template: data.records[i].fields.template,
                images: data.records[i].fields.image,
                responses: data.records[i].fields.reponse,
                next: data.records[i].fields.suite,
                points: data.records[i].fields.points
              });
            }
          });
          }
      },
      next() {
      	this.count = datas[this.count].next
        if(this.current_one_choice !== '') {
        	this.response.push(this.current_one_choice)
          localStorage.setItem('handicap', this.response)
          this.current_one_choice = ''
          return;
        }
        if(this.current_input_text.length > 0) {
        	this.response.push(this.current_input_text)
          localStorage.setItem("handicap", this.response)
          this.current_input_text = []
          return;
        }
        if(this.current_multiple.length > 0) {
        	this.response.push(this.current_multiple)
          localStorage.setItem("handicap", this.response)
          this.current_multiple = []
          return;
        }
      },
      register_response_one_choice(e) {
      	e = e || window.event
        let target = e.target || e.srcElement
        console.log(target)
        current_response = target.dataset.response.split(',')
        this.current_one_choice = [
        	JSON.stringify({
          	app_id: current_response[0],
            question: current_response[1],
            response: current_response[2],
            points: current_response[3]
          })
        ]
      },
      register_input_choice(e) {
      	e = e || window.event
        let target = e.target || e.srcElement
        current_respnse = target.dataset.response.split(',')
        let input_value = target.value
        let index = this.current_input_text.indexOf(
        	JSON.stringify({
          	app_id: current_response[0],
            question: current_response[1],
            response: input_value,
            points: current_response[2]
          })
        )
        this.current_input_text.splice(index, 1)
        this.current_input_text.push(
        	JSON.stringify({
          	app_id: current_response[0],
            question: current_response[1],
            response: input_value,
            points: current_response[2]
          })
        )
      },
      register_response_multiple(e) {
      	e = e || window.event
        let target = e.target || e.srcElement
        current_response = target.dataset.response.split(',')
        console.log(current_response)
        if(target.checked) {
        	this.current_multiple.push(
          	JSON.stringify({
            	app_id: current_response[0],
              question: current_response[1],
              response: current_response[2],
              points: current_response[3]
            })
          )
          console.log(target.dataset.response)
          console.log(this.current_multiple)
        }
        if(!target.checked) {
        	let index = this.current_multiple.indexOf(
          	JSON.stringify({
            	app_id: current_response[0],
              question: current_response[1],
              response: current_response[2],
              points: current_response[3]
            })
          )
          this.current_multiple.splice(index, 1)
        }
      }
    }
  }
  function debug() {
  	console.log(datas)
  }
</script>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=5f2d7ef4d86db21c57bb4bb8" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
</html>